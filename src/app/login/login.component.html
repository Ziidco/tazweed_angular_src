<app-header></app-header>

<div class="container">
  <div class="form-title"> 
    <h1>أهلا بعودتك! </h1>
    <div class="anotherRegisteration" *ngIf="registerNewLine">
      <span class="ask reg-font">ليس لديك حساب مع تزويد؟</span><a routerLink="/clientRegister">سجل كعميل</a> أو <a
        style="margin-right: 0" routerLink="/partnerRegister">سجل ككاتب</a>
    </div>
  </div>
  <tabset class="login-tabs">
    <tab [active]="activeTabType=='partner' ? true : false " heading="كاتب" id="tab1">
      
      <div class="row">
        <form (keydown.enter)="$event.preventDefault()" class="col-lg-6 col-md-6 col-sm-12 col-12 mt20" [formGroup]="loginForm" (ngSubmit)="login('partner')">
          <div class="form-group">
            <input type="text" name="email" class="form-control" formControlName="email" placeholder="البريد الالكترونى" />
            <span *ngIf="!loginForm.get('email').valid && loginForm.get('email').touched">من فضلك قم بادخال البريد
              الالكترونى</span>
          </div>
          <div class="form-group relative">
            <input id="password1" type="password" name="password" class="form-control" formControlName="password"
              placeholder="كلمة المرور">
            <span class="showHidePassword" *ngIf="showPasswordIcon" (click)="showPassword('password1')">
              <fa-icon [icon]="faEye"></fa-icon>
            </span>
            <span class="showHidePassword" *ngIf="hidePasswordIcon" (click)="hidePassword('password1')">
              <fa-icon [icon]="faEyeSlash"></fa-icon>
            </span>
            <span class="help-block" *ngIf="!loginForm.get('password').valid && loginForm.get('password').touched">password
              must be at least 8 characters long</span>
          </div>
          <div class="form-group  d-flex justify-content-between"> 
            <div><button class="btn normal-btn" (click)="resetPassword('partner')" type="button"><span>هل نسيت كلمة المرور؟</span></button></div>
          </div>
    
          <div class="clearfix">
            <button  class="btn btn-success  float-right" type="submit">تسجيل الدخول</button>
          </div>
    
          <div *ngIf="showLoader" class="loader">
            <div class="cssload-container">
              <div class="cssload-speeding-wheel"></div>
              </div>
          </div>
          
        </form>
    
      </div>
    
    </tab>
    <tab [active]="activeTabType=='client' ||activeTabType=='' || activeTabType==null  ? true : false " heading="عميل"> 
      
      
      <div class="row">
        <form (keydown.enter)="$event.preventDefault()" class="col-lg-6 col-md-6 col-sm-12 col-12 mt20" [formGroup]="loginForm" (ngSubmit)="login('client')">
          <div class="form-group">
            <input type="text" name="email" class="form-control" formControlName="email" placeholder="البريد الالكترونى" />
            <span *ngIf="!loginForm.get('email').valid && loginForm.get('email').touched">من فضلك قم بادخال البريد
              الالكترونى</span>
          </div>
          <div class="form-group relative">
            <input id="password" type="password" name="password" class="form-control" formControlName="password"
              placeholder="كلمة المرور">
            <span class="showHidePassword" *ngIf="showPasswordIcon" (click)="showPassword('password')">
              <fa-icon [icon]="faEye"></fa-icon>
            </span>
            <span class="showHidePassword" *ngIf="hidePasswordIcon" (click)="hidePassword('password')">
              <fa-icon [icon]="faEyeSlash"></fa-icon>
            </span>
            <span class="help-block" *ngIf="!loginForm.get('password').valid && loginForm.get('password').touched">password
              must be at least 8 characters long</span>
          </div>
          <div class="form-group  d-flex justify-content-between">
            <div><button class="btn normal-btn" (click)="resetPassword('client')" type="button"><span>هل نسيت كلمة المرور؟</span></button></div>
          </div>
    
          <div class="clearfix">
            <button  class="btn btn-success  float-right" type="submit">تسجيل الدخول</button>
          </div>
    
          <div *ngIf="showLoader" class="loader">
            <div class="cssload-container">
              <div class="cssload-speeding-wheel"></div>
              </div>
          </div>
        </form>
      </div>
    
    </tab>
  </tabset>
  <div *ngIf="showFailed" class="text-center fails stickyMessage ">
    <fa-icon [icon]="faExclamationTriangle"></fa-icon>
    <h1>تعذر تسجيل الدخول </h1>
    <h2>{{failedLogin.error.message}}</h2>
  </div>
</div>

